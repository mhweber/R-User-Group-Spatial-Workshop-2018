<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Preliminaries</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link rel="stylesheet" href="site_libs_extra/academicons-1.8.0/css/academicons.css"/>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Preliminaries.html">Preliminaries</a>
</li>
<li>
  <a href="SpatialObjects.html">SpatialObjects</a>
</li>
<li>
  <a href="SpatialOperations1.html">SpatialOperations1</a>
</li>
<li>
  <a href="SpatialOperations2.html">SpatialOperations2</a>
</li>
<li>
  <a href="LeafletPlotly.html">Interactive Mapping</a>
</li>
<li>
  <a href="Resources.html">Resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Preliminaries</h1>

</div>


<div id="background" class="section level3">
<h3>Background</h3>
<p>So, to begin, what is R and why should we use R for spatial analysis? Let’s break that into two questions - first, what is R and why should we use it?</p>
<ul>
<li>A language and environment for statistical computing and graphics</li>
<li>R is lightweight, free, open-source and cross-platform</li>
<li>Works with contributed packages - <a href="https://cran.r-project.org/web/packages/">currently</a> 12,938 -extensibility</li>
<li>Automation and recording of workflow (reproducibility)</li>
<li>Optimized work flow - data manipulation, analysis and visualization all in one place</li>
<li>R does not alter underlying data - manipulation and visualization in memory</li>
<li>R is great for repetetive graphics</li>
</ul>
<div class="figure">
<img src="/R-User-Group-Spatial-Workshop-2018/img/History%20of%20R.png" alt="History of R" />
<p class="caption">History of R</p>
</div>
<p>Second, why use R for spatial, or GIS, workflows?</p>
<ul>
<li>Spatial and statistical analysis in one environment</li>
<li>Leverage statistical power of R (i.e. modeling spatial data, data visualization, statistical exploration)</li>
<li>Can handle vector and raster data, as well as work with spatial databases and pretty much any data format spatial data comes in</li>
<li>R’s GIS capabilities growing rapidly right now - new packages added monthly - currently about 180 spatial packages</li>
</ul>
<p>Some drawbacks to using R for GIS work</p>
<ul>
<li>R not as good for interactive use as desktop GIS applications like ArcGIS or QGIS (i.e. editing features, panning, zooming, and analysis on selected subsets of features)</li>
<li>Explicit coordinate system handling by the user, no on-the-fly projection support</li>
<li>In memory analysis does not scale well with large GIS vector and tabular data</li>
<li>Steep learning curve</li>
<li>Up to you to find packages to do what you need - help not always great</li>
</ul>
<p>An ideal solution for many tasks is using R in conjunction with traditional GIS software.</p>
<p>R runs on contributed packages - it has core functionality, but all the spatial work we would do in R is contained in user-contributed packages. Primary ones you’ll want to familiarize yourself with are <code>sf</code>, <code>rgdal</code>, <code>sp</code>, <code>rgeos</code>, <code>raster</code> - there are many, many more. A good source to learn about available R spatial packages is:</p>
<p><a href="https://cran.r-project.org/web/views/Spatial.html">CRAN Task View: Analysis of Spatial Data</a></p>
</div>
<div id="necessary-r-packages" class="section level3">
<h3>Necessary R packages</h3>
<p>First we need to install several R packages. Note the use of the terms <code>package</code> and <code>library</code> in R - you encounter both, and if you want to delve into semantics of which to use see <a href="https://www.r-bloggers.com/packages-v-libraries-in-r/">this post on R-bloggers</a>. R operates on user-contributed packages, and we’ll be jumping into use of several of these spatial packages in this workshop. Several packages we’ll be making use of are <code>sp</code>, <code>rgdal</code>, <code>rgeos</code>, <code>raster</code>, and the new <code>sf</code> simple features package by Edzer Pebesma. You should be able to use the packages tab in RStudio (see below) to install packages in a straightforward way. Mac and Linux users may have certain pre-requisites to fill, I’ll assume you can navigate these on your own or can assist as needed.</p>
<div class="figure">
<img src="/R-User-Group-Spatial-Workshop-2018/img/figure/packages.png" alt="RStudio Console" />
<p class="caption">RStudio Console</p>
</div>
<p>Install all of the following packages in R: Install all of the following packages in R - note that for both <code>sf</code> and <code>tidyverse</code> - and specificallly <code>ggplot2</code> in <code>tidyverse</code>, I’ve indicated the alternative install from GitHub rather than CRAN. This is optional, as is installing devtools, and you will be fine with the CRAN version of packages, except that you will not be able to reproduce one of the example plots in the <code>sf</code> section that uses <code>sf_geom</code> funtion from the development version of <code>ggplot2</code>. Note that <code>tidyverse</code> is a ‘meta-package’ that includes several specific packages such as <code>ggplot2</code>, <code>dplyr</code>, and <code>tidyr</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>) <span class="co"># optional but needed for using install_github</span>
<span class="kw">install.packages</span>(<span class="st">&quot;rgdal&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;rgeos&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;raster&quot;</span>)
<span class="co"># From CRAN:</span>
<span class="co"># install.packages(&quot;sf&quot;)</span>
<span class="co"># From GitHub:</span>
<span class="kw">library</span>(devtools)
<span class="kw">install_github</span>(<span class="st">&quot;edzer/sfr&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;gstat&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;spdep&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;maptools&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;stringr&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;reshape&quot;</span>)
<span class="co"># From CRAN:</span>
<span class="co"># install.packages(&quot;tidyverse&quot;)</span>
<span class="co"># From GitHub:</span>
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;hadley/tidyverse&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;micromap&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;tmap&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;RCurl&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;dataRetrieval&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;maps&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;USAboundaries&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;rasterVis&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;landsat&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;plotly&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;leaflet&quot;</span>)</code></pre></div>
<p>Installing <code>rgdal</code> will install the foundation spatial package, <code>sp</code>, as a dependency, and installing <code>tidyverse</code> will install both <code>ggplot2</code> and <code>dplyr</code>.</p>
<p>For Linux users, to install simple features for R (<code>sf</code>), you need GDAL &gt;= 2.0.0, GEOS &gt;= 3.3.0, and Proj.4 &gt;= 4.8.0. Edzer Pebesma’s Simple Features for R GitHub repo has a good explanation:</p>
<p><a href="https://github.com/edzer/sfr">Simple Features for R</a></p>
<p>You basically want to add <a href="http://ppa.launchpad.net/ubuntugis/ubuntugis-unstable/ubuntu/">ubuntugis-unstable</a> to the package repositories and then get those three dependencies:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sudo add<span class="op">-</span>apt<span class="op">-</span>repository ppa<span class="op">:</span>ubuntugis<span class="op">/</span>ubuntugis<span class="op">-</span>unstable
sudo apt<span class="op">-</span>get install libgdal<span class="op">-</span>dev libgeos<span class="op">-</span>dev libproj<span class="op">-</span>dev</code></pre></div>
<p>The Simple features for R package , <code>sf</code>, also needs udunits and udunits2 which may need coercing in linux:</p>
<p><a href="https://github.com/edzer/units/issues/1">Units Issues in sf GitHub repo</a></p>
<p>The following should resolve:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sudo apt<span class="op">-</span>get install libudunits2<span class="op">-</span>dev</code></pre></div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
